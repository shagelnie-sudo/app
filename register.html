<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>إنشاء حساب | شغلني</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    body {
      font-family: Tahoma, Arial;
      background: #f5f6fa;
    }
    .form-card {
      max-width: 420px;
      margin: 40px auto;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
    }
    .hidden { display: none; }
    input, select, button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
    }
    button {
      background: #2c7be5;
      color: #fff;
      border: none;
      cursor: pointer;
    }
    button.secondary {
      background: #6c757d;
    }
    .msg {
      margin-top: 10px;
      font-size: 14px;
    }
    .error { color: red; }
    .success { color: green; }
  </style>
</head>

<body>

<!-- STEP 1 -->
<div class="form-card" id="step1">
  <h3>إنشاء حساب</h3>

  <input type="email" id="email" placeholder="البريد الإلكتروني" required />
  <input type="password" id="password" placeholder="كلمة المرور" required />
  <input type="password" id="confirmPassword" placeholder="تأكيد كلمة المرور" required />

  <select id="role">
    <option value="">اختر نوع الحساب</option>
    <option value="employee">موظف / حرفي</option>
    <option value="employer">صاحب عمل / شركة</option>
  </select>

  <button id="nextBtn1">متابعة</button>
  <div id="msg-step1" class="msg"></div>
</div>

<!-- STEP 2 -->
<div class="form-card hidden" id="step2-verification">
  <h3>تأكيد البريد الإلكتروني</h3>
  <p>تم إرسال رابط تفعيل إلى:</p>
  <b id="verificationEmailDisplay"></b>

  <button id="confirmVerificationBtn">تم التفعيل</button>
  <div class="msg"></div>
</div>

<!-- STEP 3 - EMPLOYEE -->
<div class="form-card hidden" id="step3-employee">
  <h3>بيانات الموظف / الحرفي</h3>

  <input type="text" id="fullName" placeholder="الاسم الكامل" />
  <input type="text" id="skill" placeholder="المهنة / التخصص" />

  <button id="submitBtn-employee">إنشاء الحساب</button>
</div>

<!-- STEP 3 - EMPLOYER -->
<div class="form-card hidden" id="step3-employer">
  <h3>بيانات صاحب العمل / الشركة</h3>

  <input type="text" id="companyName" placeholder="اسم الشركة / صاحب العمل" />
  <input type="text" id="companyType" placeholder="نوع النشاط" />

  <button id="submitBtn-employer">إنشاء الحساب</button>
</div>

<!-- الربط مع JavaScript -->
<script type="module">
  import { handleRegisterStep1, confirmEmailVerification } from "./js/auth.js";
  import { submitFinalData } from "./js/submit.js";
  import { showStep } from "./js/steps.js";

  window.showStep = showStep;

  document.getElementById("nextBtn1").onclick = handleRegisterStep1;
  document.getElementById("confirmVerificationBtn").onclick = confirmEmailVerification;

  document.getElementById("submitBtn-employee").onclick = submitFinalData;
  document.getElementById("submitBtn-employer").onclick = submitFinalData;
</script>

</body>
</html>